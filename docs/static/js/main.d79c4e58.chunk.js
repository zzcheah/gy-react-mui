(this["webpackJsonpgy-react-mui"]=this["webpackJsonpgy-react-mui"]||[]).push([[0],{20:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(79),r=Object(a.c)({name:"app",initialState:{loading:!1,toast:null},reducers:{toggleLoading:function(e){e.loading=!e.loading},addToast:function(e,t){e.toast=t.payload}}}),c=r.actions,i=c.toggleLoading,s=c.addToast;t.b=r.reducer},214:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var a=n(19),r=n(14),c=n(17),i=n(304),s=n(139),o=n(296),l=n(162),j=n(223),d=n(222),u=n(140),b=n(290),x=n(305),h=n(225),O=n(1),m=n(21),p=n(50),g=n(20),f=n(37),v=n(93),y=n.n(v),k=n(48),w=n(27),C=n(218),q=n(215),A=n.n(q),S=n(35),R=n(0);function T(){var t=Object(c.useQuery)(w.c).data,n=Object(c.useMutation)(p.e),v=Object(r.a)(n,1)[0],q=Object(m.b)(),T=Object(S.g)(),W=Object(m.c)((function(e){return e.auth.user.status})),I=Object(O.useState)({name:"Untitled",progress:0,fileInfo:"",image:"",tag:"",rawParam:"",file:[],message:"",selectedImage:"",selectedTag:"",index:""}),N=Object(r.a)(I,2),D=N[0],B=N[1],E=function(e){var t=D.file;return B(Object(a.a)(Object(a.a)({},D),{},{progress:0})),function(e,t){var n=new FormData;return n.append("file",e),y.a.post(k.a+"files/add",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}(t,(function(e){B(Object(a.a)(Object(a.a)({},D),{},{progress:Math.round(100*e.loaded/e.total)}))}))},P=t?t.dockerImages:[],L=""!==D.index?t.dockerImages[D.index].tags:[];return"Active"!==W?(alert("User is not allowed to make request until approved by admin"),Object(R.jsx)(S.a,{to:"/dashboard"})):Object(R.jsx)(f.a,{children:Object(R.jsxs)(i.a,{sx:{mb:6},children:[Object(R.jsx)(s.a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{pb:2},children:Object(R.jsx)("b",{children:"Add New Request"})}),Object(R.jsxs)("form",{onSubmit:function(t){t.preventDefault(),q(Object(g.c)()),E().then((function(t){console.log("successfully uploading file, creating request"),console.log(t);var n={name:D.name,image:D.image+":"+D.tag,param:e.from(JSON.stringify(D.rawParam)).toString("base64"),inputFiles:[t.data]};return console.log(n),v({variables:{input:n}})})).then((function(){q(Object(g.a)({message:"Successfully Created Request",severity:"success"})),q(Object(g.c)()),T.push("/dashbaord")})).catch((function(e){console.log(e),Object(g.a)({message:e.toString(),severity:"error"}),B(Object(a.a)(Object(a.a)({},D),{},{progress:0,message:e.toString()})),q(Object(g.c)())}))},children:[Object(R.jsx)(o.a,{autoComplete:"name",name:"name",required:!0,variant:"standard",id:"name",label:"Name",value:D.name,autoFocus:!0,onChange:function(e){B(Object(a.a)(Object(a.a)({},D),{},{name:e.target.value}))},sx:{m:2,width:450}}),Object(R.jsx)("br",{}),Object(R.jsxs)(l.a,{sx:{minWidth:400,m:2},children:[Object(R.jsx)(j.a,{children:"Docker Image"}),Object(R.jsxs)(d.a,{required:!0,value:D.index,onChange:function(e){var t=e.target.value,n=P[t].name;B(Object(a.a)(Object(a.a)({},D),{},{index:t,image:n,tag:""}))},children:[Object(R.jsx)(u.a,{value:"",disabled:!0,children:Object(R.jsx)("em",{children:"Docker Images"})}),P.map((function(e,t){return Object(R.jsx)(u.a,{value:t,children:e.name},e.id)}))]})]}),Object(R.jsxs)(l.a,{sx:{minWidth:300,m:2},children:[Object(R.jsx)(j.a,{children:"Tags"}),Object(R.jsxs)(d.a,{required:!0,value:D.tag,onChange:function(e){B(Object(a.a)(Object(a.a)({},D),{},{tag:e.target.value}))},children:[Object(R.jsx)(u.a,{value:"",disabled:!0,children:Object(R.jsx)("em",{children:"Image Tags"})}),L.map((function(e){return Object(R.jsx)(u.a,{value:e.tag,children:e.tag},e.id)}))]})]}),Object(R.jsxs)(l.a,{sx:{minWidth:300,m:2},children:[Object(R.jsx)(s.a,{color:"text.secondary",gutterBottom:!0,children:"JSON Parameters"}),Object(R.jsx)(C.a,{id:"a_unique_id",theme:"light_mitsuketa_tribute",colors:{default:"#000000"},style:{body:{fontSize:"14px"}},width:"622px",locale:A.a,height:"420px",onChange:function(e){B(Object(a.a)(Object(a.a)({},D),{},{rawParam:e.jsObject}))}})]}),Object(R.jsxs)(b.a,{sx:{m:2},children:[Object(R.jsx)(s.a,{variant:"body1",gutterBottom:!0,children:0===D.file.length?"No file selected.. ":D.fileInfo}),Object(R.jsx)(x.a,{variant:"determinate",value:D.progress,sx:{height:"10px",m:"15px 0 ",width:"300px"}}),Object(R.jsxs)(h.a,{component:"label",variant:"outlined",size:"small",children:["Upload File",Object(R.jsx)("input",{type:"file",hidden:!0,onChange:function(e){var t=e.target.files[0],n=t.name,r=t.size,c="".concat(n,", size: ").concat(r);B(Object(a.a)(Object(a.a)({},D),{},{file:t,fileInfo:c}))}})]})]}),Object(R.jsx)("br",{}),Object(R.jsx)(h.a,{type:"submit",variant:"contained",color:"success",size:"large",sx:{float:"right",mt:3},children:"Submit"})]})]})})}}).call(this,n(279).Buffer)},250:function(e,t,n){},27:function(e,t,n){"use strict";n.d(t,"f",(function(){return x})),n.d(t,"h",(function(){return h})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return v}));var a,r,c,i,s,o,l,j,d,u=n(24),b=n(17),x=Object(b.gql)(a||(a=Object(u.a)(["\n  query {\n    myRequests {\n      id\n      name\n      status\n      createdAt\n      title\n      image\n      encodedParam\n      inputFiles\n      outputFiles\n      assignedTo\n      remark\n    }\n  }\n"]))),h=(Object(b.gql)(r||(r=Object(u.a)(["\n  query {\n    countRequests\n  }\n"]))),Object(b.gql)(c||(c=Object(u.a)(["\n  query WorkerApplications {\n    workerApplications {\n      id\n      name\n      maxTasks\n      ipAddress\n      email\n      createdAt\n    }\n  }\n"])))),O=Object(b.gql)(i||(i=Object(u.a)(["\n  query ImageRequests {\n    imageRequests {\n      id\n      image\n      tag\n      remark\n      createdAt\n    }\n  }\n"]))),m=Object(b.gql)(s||(s=Object(u.a)(["\n  query NotificationList {\n    notificationList {\n      id\n      isRead\n      user\n      content\n      severity\n      createdAt\n      link\n    }\n  }\n"]))),p=Object(b.gql)(o||(o=Object(u.a)(["\n  query DockerImages {\n    dockerImages {\n      id\n      name\n      tags {\n        id\n        tag\n        description\n      }\n      usageCount\n      description\n    }\n  }\n"]))),g=Object(b.gql)(l||(l=Object(u.a)(["\n  query ListWorkers {\n    workerList {\n      id\n      name\n      maxTasks\n      ipAddress\n      lastActive\n      status\n      runningTasks\n    }\n  }\n"]))),f=Object(b.gql)(j||(j=Object(u.a)(["\n  query GetAllUsers {\n    allUsers {\n      id\n      name\n      email\n      phone\n      status\n      role\n    }\n  }\n"]))),v=Object(b.gql)(d||(d=Object(u.a)(["\n  query GetAllRequests {\n    allRequests {\n      id\n    }\n  }\n"])))},284:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(66),i=n.n(c),s=(n(250),n(19)),o=n(219),l=n(17),j=n(197),d=n(305),u=n(404),b=n(369),x=n(35),h=n(33),O=n(21),m=n(217),p={"&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",borderRadius:"20px",border:"6px solid transparent"},"&::-webkit-scrollbar-thumb:hover":{backgroundColor:"#a8bbbf"}},g=Object(m.a)({shape:{borderRadius:16},palette:{success:{main:"rgb(0, 171, 85)"}},components:{MuiButton:{styleOverrides:{root:{borderRadius:8}}},MuiChip:{styleOverrides:{root:{borderRadius:8,fontWeight:"bolder",fontSize:"12px"}}},MuiPaper:{styleOverrides:{root:Object(s.a)(Object(s.a)({},p),{},{boxShadow:"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px"})}},MuiTableContainer:{styleOverrides:{root:Object(s.a)({},p)}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"rgba(255, 255, 255, 0.72)",boxShadow:"none",backdropFilter:"blur(6px)"}}},MuiMenu:{styleOverrides:{root:{}}},MuiList:{styleOverrides:{root:Object(s.a)({},p)}}}}),f=n(374),v=n(370),y=n(20),k=n(0),w=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.app.toast}));if(null===t)return null;var n=t.message,a=t.severity,r=t.duration;return Object(k.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!0,autoHideDuration:r||3e3,onClose:function(){return e(Object(y.a)(null))},children:Object(k.jsx)(v.a,{severity:a||"info",children:n})})},C=n(3),q=n(291),A=n(403),S=function(){return Object(k.jsx)("header",{children:Object(k.jsx)("div",{style:{position:"absolute",padding:"32px 40px",right:"0px"},children:Object(k.jsx)(h.b,{to:"/",children:Object(k.jsx)("img",{src:"logo.png",alt:"logo",height:"64px"})})})})},R=n(14),T=n(225),W=n(296),I=n(402),N=n(372),D=n(401),B=n(380),E=n(290),P=n(139),L=n(304),F=n(86);function U(){return Object(k.jsxs)(P.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(k.jsx)(D.a,{color:"inherit",href:"https://material-ui.com/",children:"GPU Yard"})," ",(new Date).getFullYear(),"."]})}var M=Object(q.a)((function(e){return{paper:{display:"flex",flexDirection:"column"},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2)}}})),$=function(){var e=M(),t=Object(O.b)(),n=Object(x.g)(),r=Object(a.useState)({email:"",password:""}),c=Object(R.a)(r,2),i=c[0],o=c[1],l=function(e){o(Object(s.a)(Object(s.a)({},i),{},Object(C.a)({},e.target.id,e.target.value)))};return Object(k.jsxs)(L.a,{component:"main",maxWidth:"sm",children:[Object(k.jsxs)("div",{className:e.paper,children:[Object(k.jsx)(P.a,{component:"h1",variant:"h5",gutterBottom:!0,children:"Sign in to GPU Yard"}),Object(k.jsx)(P.a,{component:"h2",variant:"body2",gutterBottom:!0,children:"Enter your details below."}),Object(k.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),t(Object(F.b)({credentials:i,history:n}))},children:[Object(k.jsx)(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:l}),Object(k.jsx)(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:l}),Object(k.jsx)(I.a,{control:Object(k.jsx)(N.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(k.jsx)("div",{className:e.submit,children:Object(k.jsx)(T.a,{type:"submit",size:"large",fullWidth:!0,variant:"contained",color:"success",children:"Sign In"})})]}),Object(k.jsxs)(B.a,{container:!0,children:[Object(k.jsx)(B.a,{item:!0,xs:!0,children:Object(k.jsx)(D.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(k.jsx)(B.a,{item:!0,children:Object(k.jsx)(D.a,{component:"button",variant:"body2",onClick:function(){return n.push("/signup")},children:"Don't have an account? Sign Up"})})]})]}),Object(k.jsx)(E.a,{mt:5,children:Object(k.jsx)(U,{})})]})},G=n(224),z=Object(q.a)((function(e){return{root:Object(C.a)({padding:e.spacing(4),margin:e.spacing(3),width:"464px",minHeight:"600px",display:"flex",flexDirection:"column",justifyContent:"center"},e.breakpoints.down("md"),{display:"none"}),image:{width:"100%",padding:"50px 0px"}}})),Q=function(e){var t=e.msg,n=e.imgPath,a=z();return Object(k.jsxs)(G.a,{className:a.root,elevation:3,children:[Object(k.jsx)(P.a,{component:"p",variant:"h4",gutterBottom:!0,children:t.map((function(e,t){return Object(k.jsx)("b",{children:e},t)}))}),Object(k.jsx)("div",{className:a.image,children:Object(k.jsx)("img",{src:n,alt:"welcome",width:"100%"})})]})},H=["Hi there,",Object(k.jsx)("br",{}),"Welcome back."],_=Object(q.a)((function(e){return Object(A.a)({root:{height:"100vh",display:"flex","& *":{}},form:Object(C.a)({flexGrow:2,display:"flex",alignItems:"center"},e.breakpoints.down("md"),{paddingTop:"64px",alignItems:"start"})})})),J=function(){var e=_();return Object(O.c)((function(e){return e.auth.user}))?Object(k.jsx)(x.a,{to:"/"}):Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(S,{}),Object(k.jsx)(Q,{msg:H,imgPath:"images/welcome.png"}),Object(k.jsx)("div",{className:e.form,children:Object(k.jsx)($,{})})]})};function Y(){return Object(k.jsxs)(P.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(k.jsx)(D.a,{color:"inherit",href:"https://material-ui.com/",children:"GPU Yard"})," ",(new Date).getFullYear(),"."]})}var V,K=Object(q.a)((function(e){return{paper:{display:"flex",flexDirection:"column"},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2)}}})),Z=function(){var e=K(),t=Object(x.g)(),n=Object(O.b)(),r=Object(a.useState)({name:"",email:"",password:""}),c=Object(R.a)(r,2),i=c[0],o=c[1],l=function(e){o(Object(s.a)(Object(s.a)({},i),{},Object(C.a)({},e.target.id,e.target.value)))};return Object(k.jsxs)(L.a,{component:"main",maxWidth:"sm",children:[Object(k.jsxs)("div",{className:e.paper,children:[Object(k.jsx)(P.a,{component:"h1",variant:"h5",gutterBottom:!0,children:"Get started"}),Object(k.jsx)(P.a,{component:"h2",variant:"body2",gutterBottom:!0,children:"Enter your details below."}),Object(k.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),console.log(i),n(Object(F.d)({input:i,history:t}))},children:[Object(k.jsxs)(B.a,{container:!0,spacing:2,children:[Object(k.jsx)(B.a,{item:!0,xs:12,children:Object(k.jsx)(W.a,{autoComplete:"name",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Name",autoFocus:!0,onChange:l})}),Object(k.jsx)(B.a,{item:!0,xs:12,children:Object(k.jsx)(W.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",type:"email",autoComplete:"email",onChange:l})}),Object(k.jsx)(B.a,{item:!0,xs:12,children:Object(k.jsx)(W.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:l})})]}),Object(k.jsx)("div",{className:e.submit,children:Object(k.jsx)(T.a,{type:"submit",fullWidth:!0,variant:"contained",color:"success",size:"large",children:"Register"})})]}),Object(k.jsx)(B.a,{container:!0,children:Object(k.jsx)(B.a,{item:!0,children:Object(k.jsx)(D.a,{component:"button",variant:"body2",onClick:function(){return t.push("/login")},children:"Already have an account? Sign in"})})})]}),Object(k.jsx)(E.a,{mt:5,children:Object(k.jsx)(Y,{})})]})},X=["Avoid the hassle of setting up GPU-accelerated environment."],ee=Object(q.a)((function(e){return{root:{height:"100vh",display:"flex","& *":{}},form:Object(C.a)({flexGrow:"1",display:"flex",alignItems:"center"},e.breakpoints.down("md"),{paddingTop:"64px",alignItems:"start"})}})),te=function(){var e=ee();return Object(O.c)((function(e){return e.auth.user}))?Object(k.jsx)(x.a,{to:"/dashboard"}):Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(S,{}),Object(k.jsx)(Q,{msg:X,imgPath:"images/register.png"}),Object(k.jsx)("div",{className:e.form,children:Object(k.jsx)(Z,{})})]})},ne=n(24),ae=function(){var e=Object(O.b)(),t=Object(x.g)(),n=Object(l.useApolloClient)();return Object(k.jsx)("div",{children:Object(k.jsxs)(L.a,{children:[Object(k.jsx)(P.a,{variant:"h2",component:"h1",children:"Hello,"}),Object(k.jsx)(T.a,{onClick:function(t){e(Object(y.c)())},children:"Toggle Loading"}),Object(k.jsx)(T.a,{onClick:function(){t.push("/login")},children:"Login"}),Object(k.jsx)(T.a,{onClick:function(){t.push("/signup")},children:"Signup"}),Object(k.jsx)(T.a,{onClick:function(){t.push("/dashboard")},children:"Dashboard"}),Object(k.jsx)(T.a,{onClick:function(){n.query({query:Object(l.gql)(V||(V=Object(ne.a)(["\n                  query {\n                    countRequests\n                  }\n                "])))}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},children:"Get Request Count"})]})})},re=n(48),ce=n(114),ie=n(384),se=n(37),oe=n(36),le=n(27),je=function(e){var t=e.users,n=e.id,a=t.find((function(e){return e.id===n}));if(null==a)return Object(k.jsx)("div",{children:"User not found!!"});var r=a.name,c=a.role,i=a.status,s=a.email,o=a.phone;return Object(k.jsxs)("div",{children:[Object(k.jsx)(P.a,{variant:"h4",component:"h1",sx:{mb:4,pl:2},children:Object(k.jsx)("b",{children:"User Detail"})}),Object(k.jsxs)(oe.a,{children:[Object(k.jsx)(P.a,{variant:"h6",children:"User ID:"}),Object(k.jsx)(P.a,{variant:"body1",children:n}),Object(k.jsx)(de,{}),Object(k.jsx)(P.a,{variant:"h6",children:"Name:"}),Object(k.jsx)(P.a,{variant:"body1",children:r}),Object(k.jsx)(de,{}),Object(k.jsx)(P.a,{variant:"h6",children:"Role:"}),Object(k.jsx)(P.a,{variant:"body1",children:c}),Object(k.jsx)(de,{}),Object(k.jsx)(P.a,{variant:"h6",children:"Status:"}),Object(k.jsx)(ce.a,{label:i||"Checking",color:"Active"===i?"success":"default"}),Object(k.jsx)(de,{}),Object(k.jsx)(P.a,{variant:"h6",children:"Email:"}),Object(k.jsx)(P.a,{variant:"body1",children:s}),o?Object(k.jsxs)("div",{children:[Object(k.jsx)(de,{}),Object(k.jsx)(P.a,{variant:"h6",children:"Phone:"}),Object(k.jsx)(P.a,{variant:"body1",children:o})]}):null]})]})},de=function(){return Object(k.jsx)(ie.a,{sx:{mt:3,mb:2}})},ue=function(e){var t=e.match.params.id,n=Object(l.useQuery)(le.b),a=n.loading,r=n.error,c=n.data;return Object(k.jsx)(se.a,{children:Object(k.jsxs)(L.a,{sx:{mb:6},children:[a&&!r?"loading...":Object(k.jsx)(je,{users:c.allUsers,id:t}),r?"Error! ".concat(r.message):null]})})},be=n(214),xe=n(93),he=n.n(xe),Oe=Object(q.a)((function(e){return{paper:{display:"flex",flexDirection:"column"},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2)}}}));function me(){var e=Oe(),t=Object(x.g)(),n=Object(O.b)(),r=Object(a.useState)({maxTasks:"",email:"",name:""}),c=Object(R.a)(r,2),i=c[0],o=c[1],l=function(e){o(Object(s.a)(Object(s.a)({},i),{},Object(C.a)({},e.target.id,e.target.value)))};return Object(k.jsxs)("div",{children:[Object(k.jsx)(S,{}),Object(k.jsx)("br",{}),Object(k.jsxs)(L.a,{component:"main",maxWidth:"sm",sx:{mt:4},children:[Object(k.jsx)(P.a,{component:"h1",variant:"h5",gutterBottom:!0,children:"New Worker Application"}),Object(k.jsx)(P.a,{component:"h2",variant:"body2",gutterBottom:!0,children:"Register your interest in setting up a task worker."}),Object(k.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),console.log(i),n(function(e){var t=e.input,n=e.history;return function(e){e(Object(y.c)()),console.log("Registering User"),he.a.post(re.a+"api/workerApplication",t).then((function(t){e(Object(y.a)({message:t.data,severity:"success"})),n.push("/"),e(Object(y.c)())})).catch((function(t){e(Object(y.a)({message:t.toString(),severity:"error"})),e(Object(y.c)())}))}}({input:i,history:t}))},children:[Object(k.jsxs)(B.a,{container:!0,spacing:3,children:[Object(k.jsx)(B.a,{item:!0,xs:12,children:Object(k.jsx)(W.a,{name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Worker Nickname",autoFocus:!0,onChange:l})}),Object(k.jsx)(B.a,{item:!0,xs:12,md:8,children:Object(k.jsx)(W.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Your Email Address",name:"email",type:"email",helperText:"We will send you the worker id once it is approved",autoComplete:"email",onChange:l})}),Object(k.jsx)(B.a,{item:!0,xs:12,md:4,children:Object(k.jsx)(W.a,{variant:"outlined",fullWidth:!0,name:"maxTasks",label:"Max Concurrent Jobs",id:"maxTasks",onChange:l})})]}),Object(k.jsx)("div",{className:e.submit,children:Object(k.jsx)(T.a,{type:"submit",fullWidth:!0,variant:"contained",color:"success",size:"large",children:"Register"})})]})]})]})}var pe=n(89),ge=function(e){var t=e.requests,n=e.id,a=t.find((function(e){return e.id===n}));if(null==a)return Object(k.jsx)("div",{children:"Request not found!!"});var r=a.name,c=a.status,i=a.createdAt,s=a.image,o=a.encodedParam,l=a.outputFiles,j=a.assignedTo,d=a.remark;console.log(atob(o));var u=JSON.stringify(JSON.parse(atob(o)),null,2);return Object(k.jsxs)("div",{children:[Object(k.jsx)(P.a,{variant:"h4",component:"h1",sx:{mb:4,pl:2},children:Object(k.jsx)("b",{children:"Request Detail"})}),Object(k.jsx)(oe.a,{children:Object(k.jsxs)(E.a,{sx:{overflow:"clip"},children:[Object(k.jsx)(P.a,{variant:"h6",gutterBottom:!0,children:"Request ID:"}),Object(k.jsx)(P.a,{variant:"body1",children:n}),Object(k.jsx)(fe,{}),Object(k.jsx)(P.a,{variant:"h6",gutterBottom:!0,children:"Name:"}),Object(k.jsx)(P.a,{variant:"body1",children:r}),Object(k.jsx)(fe,{}),Object(k.jsx)(P.a,{variant:"h6",gutterBottom:!0,children:"Image:"}),Object(k.jsx)(P.a,{variant:"body1",children:s}),Object(k.jsx)(fe,{}),Object(k.jsx)(P.a,{variant:"h6",gutterBottom:!0,children:"Status:"}),pe.a[c]?pe.a[c]:pe.a.DEFAULT,Object(k.jsx)(fe,{}),Object(k.jsx)(P.a,{variant:"h6",gutterBottom:!0,children:"Assigned To:"}),Object(k.jsx)(P.a,{variant:"body1",children:j}),l&&1===l.length?Object(k.jsxs)("div",{children:[Object(k.jsx)(fe,{}),Object(k.jsx)(P.a,{variant:"h6",gutterBottom:!0,children:"Output File:"}),Object(k.jsx)(T.a,{variant:"contained",onClick:function(){window.open(re.a+"files/"+l[0],"_blank")},children:"Download"})]}):null,Object(k.jsx)(fe,{}),Object(k.jsx)(P.a,{variant:"h6",gutterBottom:!0,children:"Creation Time:"}),Object(k.jsx)(P.a,{variant:"body1",children:i}),Object(k.jsx)(fe,{}),Object(k.jsx)(P.a,{variant:"h6",gutterBottom:!0,children:"Parameters:"}),Object(k.jsx)(P.a,{variant:"body1",component:"pre",children:u}),d?Object(k.jsxs)("div",{children:[Object(k.jsx)(fe,{}),Object(k.jsx)(P.a,{variant:"h6",gutterBottom:!0,children:"Remark:"}),Object(k.jsx)(P.a,{variant:"body1",children:d})]}):null]})})]})},fe=function(){return Object(k.jsx)(ie.a,{sx:{mt:3,mb:2}})},ve=function(e){var t=e.match.params.id,n=Object(l.useQuery)(le.f),a=n.loading,r=n.error,c=n.data;return Object(k.jsx)(se.a,{children:Object(k.jsxs)(L.a,{sx:{mb:6},children:[a&&!r?"loading...":Object(k.jsx)(ge,{requests:c.myRequests,id:t}),r?"Error! ".concat(r.message):null]})})},ye=n(400),ke=n(50),we=n(69);var Ce=function(){var e=Object(l.useQuery)(le.h),t=e.loading,n=e.error,a=e.data,r=Object(l.useMutation)(ke.d),c=Object(R.a)(r,1)[0];if(t)return Object(k.jsx)(ye.a,{});if(n)return Object(k.jsxs)("div",{children:["`Error! $",n.message,"`"]});var i=function(e,t){var n=[];return e.forEach((function(e){var a=e.id,r=e.name,c=e.maxTasks,i=e.email,s=e.createdAt,o=Object(k.jsx)(T.a,{variant:"contained",onClick:function(){t({variables:{input:a},update:function(e){e.modify({fields:{workerApplications:function(e,t){var n=t.readField;return e.filter((function(e){return a!==n("id",e)}))}}})}})},children:"Approve"});n.push({id:a,name:r,maxTasks:c,email:i,createdAt:s,button:o})})),n}(a.workerApplications,c);return Object(k.jsx)(we.a,{rows:i,columns:[{id:"id",label:"ID"},{id:"name",label:"Name",minWidth:200},{id:"maxTasks",label:"Max Tasks"},{id:"email",label:"Email"},{id:"createdAt",label:"Creation Time"},{id:"button",label:""}]})},qe=function(){return Object(k.jsx)(se.a,{children:Object(k.jsxs)(L.a,{children:[Object(k.jsx)(P.a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{pb:2,pl:2},children:Object(k.jsx)("b",{children:"Worker Applications"})}),Object(k.jsx)(Ce,{})]})})};var Ae=function(){var e=Object(l.useQuery)(le.d),t=e.loading,n=e.error,a=e.data,r=Object(l.useMutation)(ke.c),c=Object(R.a)(r,1)[0];if(t)return Object(k.jsx)(ye.a,{});if(n)return Object(k.jsxs)("div",{children:["`Error! $",n.message,"`"]});var i=function(e,t){var n=[];return e.forEach((function(e){var a=e.id,r=e.image,c=e.tag,i=e.remark,s=e.createdAt,o=Object(k.jsx)(T.a,{variant:"contained",onClick:function(){t({variables:{input:a},update:function(e){e.modify({fields:{imageRequests:function(e,t){var n=t.readField;return e.filter((function(e){return a!==n("id",e)}))}}})}})},children:"Approve"});n.push({id:a,image:r,tag:c,remark:i,createdAt:s,button:o})})),n}(a.imageRequests,c);return Object(k.jsx)(we.a,{rows:i,columns:[{id:"id",label:"ID"},{id:"image",label:"Image",minWidth:200},{id:"tag",label:"Tag"},{id:"remark",label:"Remark"},{id:"createdAt",label:"Creation Time"},{id:"button",label:""}]})},Se=function(){return Object(k.jsx)(se.a,{children:Object(k.jsxs)(L.a,{children:[Object(k.jsx)(P.a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{pb:2,pl:2},children:Object(k.jsx)("b",{children:"Image Requests"})}),Object(k.jsx)(Ae,{})]})})};function Re(e){var t=e.children,n=Object(O.c)((function(e){return e.app.loading})),a={blur:{opacity:n?"0.3":"1",pointerEvents:n?"none":""}};return Object(k.jsxs)("div",{children:[n?Object(k.jsx)(d.a,{}):null,Object(k.jsx)("div",{style:a.blur,children:t})]})}function Te(e){var t=e.component,n=Object(o.a)(e,["component"]),a=Object(O.c)((function(e){return e.auth.user}));return Object(k.jsx)(x.b,Object(s.a)(Object(s.a)({exact:!0},n),{},{render:function(e){return a?r.a.createElement(t,e):Object(k.jsx)(x.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var We=function(){console.log("Rendering App");var e=Object(O.c)((function(e){return e.auth})),t=e.jwt,n=e.user,a=Object(l.createHttpLink)({uri:re.a+"graphql"}),r=Object(j.a)((function(e,n){var a=n.headers;return{headers:Object(s.a)(Object(s.a)({},a),{},{authorization:t?"Bearer ".concat(t):""})}})),c=new l.ApolloClient({link:r.concat(a),cache:new l.InMemoryCache}),i=[{route:Object(k.jsx)(Te,{path:"/users/:id",component:ue},0)},{route:Object(k.jsx)(Te,{path:"/imageRequests",component:Se},1)},{route:Object(k.jsx)(Te,{path:"/workerApplications",component:qe},2)}],o=[{route:Object(k.jsx)(Te,{path:"/addRequest",component:be.a},0)},{route:Object(k.jsx)(Te,{path:"/requests/:id",component:ve},1)}];return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(l.ApolloProvider,{client:c,children:Object(k.jsxs)(u.a,{theme:g,children:[Object(k.jsx)(b.a,{}),Object(k.jsxs)(h.a,{basename:"/gy-react-mui",children:[Object(k.jsx)(w,{}),Object(k.jsx)(Re,{children:Object(k.jsxs)(x.d,{children:[Object(k.jsx)(x.b,{exact:!0,path:"/",component:ae}),Object(k.jsx)(x.b,{exact:!0,path:"/login",component:J}),Object(k.jsx)(x.b,{exact:!0,path:"/signup",component:te}),Object(k.jsx)(x.b,{exact:!0,path:"/newWorker",component:me}),n?re.c[n.role].map((function(e,t){return Object(k.jsx)(Te,{exact:!0,path:e.path,component:e.page},t)})):null,re.b.map((function(e,t){return Object(k.jsx)(Te,{exact:!0,path:e.path,component:e.page},t)})),n&&"ADMIN"===n.role?i.map((function(e){return e.route})):null,n&&"USER"===n.role?o.map((function(e){return e.route})):null,Object(k.jsx)(x.a,{to:"/"})]})})]})]})})})},Ie=n(79),Ne=n(160),De=n.n(Ne),Be=n(216);function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var Pe=Object(Ie.b)("counter/fetchCount",function(){var e=Object(Be.a)(De.a.mark((function e(t){var n;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Le=Object(Ie.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(Pe.pending,(function(e){e.status="loading"})).addCase(Pe.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),Fe=Le.actions,Ue=(Fe.increment,Fe.decrement,Fe.incrementByAmount,Le.reducer),Me=Object(Ie.a)({reducer:{app:y.b,counter:Ue,auth:F.a}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(O.a,{store:Me,children:Object(k.jsx)(We,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(224),r=n(0);function c(e){var t=e.children;return Object(r.jsx)(a.a,{elevation:3,sx:{p:4},children:t})}},37:function(e,t,n){"use strict";var a=n(14),r=n(3),c=n(291),i=n(33),s=n(35),o=n(290),l=n(377),j=n(139),d=n(385),u=n(161),b=n(387),x=n(388),h=n(373),O=n(378),m=n(48),p=n(358),g=n(21),f=n(0);function v(){return Object(f.jsx)(i.b,{to:"/",children:Object(f.jsx)("div",{style:{padding:"10px 10px 0px 10px",height:"86px",width:"100%"},children:Object(f.jsx)("img",{src:"/logo.png",alt:"logo",height:"100%"})})})}function y(e){var t=e.user;return Object(f.jsxs)(o.a,{sx:{backgroundColor:"rgba(145, 158, 171, 0.16)",p:2,m:2,display:"flex",borderRadius:"16px",alignItems:"center"},children:[Object(f.jsx)("div",{children:Object(f.jsx)(l.a,{sx:{p:2,mr:2,ml:1},children:Object(f.jsx)(p.a,{})})}),Object(f.jsxs)("div",{children:[Object(f.jsx)(j.a,{variant:"body2",sx:{pt:"2px"},children:Object(f.jsx)("b",{children:t.name})}),Object(f.jsx)(j.a,{variant:"caption",sx:{color:"text.secondary"},children:t.role?t.role:"??? Fuck off man"})]})]})}var k=function(e){var t=e.window,n=e.mobileOpen,a=e.handleDrawerToggle,r=e.classes,c=Object(s.g)(),i=Object(g.c)((function(e){return e.auth.user})),o=c.location.pathname,l=void 0!==t?function(){return t().document.body}:void 0,j=function(e){c.push(e.currentTarget.getAttribute("path"))},p=Object(f.jsxs)("div",{children:[Object(f.jsx)(v,{}),Object(f.jsx)(y,{user:i}),Object(f.jsxs)(d.a,{sx:{"& div":{pl:2}},children:[Object(f.jsx)(u.b,{children:Object(f.jsx)(b.a,{primary:Object(f.jsx)("strong",{children:"GENERAL"})})}),m.c[i.role].map((function(e,t){return Object(f.jsxs)(u.b,{button:!0,path:e.path,id:e.text,selected:o.includes(e.path),onClick:j,children:[Object(f.jsx)(x.a,{children:e.icon}),Object(f.jsx)(b.a,{primary:e.text})]},t)}))]})]});return Object(f.jsxs)("div",{children:[Object(f.jsx)(h.a,{mdUp:!0,implementation:"css",children:Object(f.jsx)(O.a,{container:l,variant:"temporary",open:n,onClose:a,classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0},children:p})}),Object(f.jsx)(h.a,{mdDown:!0,implementation:"css",children:Object(f.jsx)(O.a,{classes:{paper:r.drawerPaper},variant:"permanent",open:!0,children:p})})]})},w=n(390),C=n(376),q=n(297),A=n(207),S=n.n(A),R=n(298),T=n(209),W=n.n(T),I=n(208),N=n.n(I),D=n(1),B=n(19),E=n(17),P=n(389),L=n(384),F=n(386),U=n(363),M=n(50),$=function(e){var t=e.handle,n=e.data,r=t.open,c=t.anchorEl,i=t.handleMenuClose,x=Object(s.g)(),h=n.read,O=n.unread,m=Object(E.useMutation)(M.g),p=Object(a.a)(m,1)[0],g={popover:{open:r,anchorEl:c,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{maxHeight:"70vh"}}},v=function(e){p({variables:{input:e.id}}),x.push(e.link)};return Object(f.jsxs)(P.a,Object(B.a)(Object(B.a)({},g.popover),{},{children:[Object(f.jsxs)(o.a,{sx:{padding:"16px 26px"},children:[Object(f.jsx)(j.a,{variant:"h6",children:Object(f.jsx)("b",{children:"Notifications"})}),Object(f.jsxs)(j.a,{sx:{color:"text.secondary"},variant:"body2",children:["You have ",O.length," unread messages"]})]}),Object(f.jsx)(L.a,{}),O.length>0?Object(f.jsxs)(d.a,{sx:{width:"360px"},children:[Object(f.jsx)(u.b,{children:Object(f.jsx)(b.a,{secondary:"NEW"})}),O.map((function(e){return Object(f.jsxs)(u.b,{button:!0,onClick:function(){return v(e)},sx:{backgroundColor:"rgba(145, 158, 171, 0.16)",mb:"2px"},children:[Object(f.jsx)(F.a,{children:Object(f.jsx)(l.a,{children:Object(f.jsx)(U.a,{})})}),Object(f.jsx)(b.a,{primary:e.content,secondary:e.createdAt})]},e.id)}))]}):null,h.length>0?Object(f.jsxs)(d.a,{sx:{width:"360px"},children:[Object(f.jsx)(u.b,{children:Object(f.jsx)(b.a,{secondary:"BEFORE THAT"})}),h.map((function(e){return Object(f.jsxs)(u.b,{button:!0,onClick:function(){return v(e)},sx:{mb:"2px"},children:[Object(f.jsx)(F.a,{children:Object(f.jsx)(l.a,{children:Object(f.jsx)(U.a,{})})}),Object(f.jsx)(b.a,{primary:e.content,secondary:e.createdAt})]},e.id)}))]}):null]}))},G=n(225),z=n(364),Q=n(365),H=n(86),_=function(e){var t=e.handle,n=t.open,a=t.anchorEl,r=t.handleMenuClose,c=Object(g.c)((function(e){return e.auth.user})),i=Object(g.b)(),l=Object(s.g)(),h={popover:{open:n,anchorEl:a,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}}};return Object(f.jsxs)(P.a,Object(B.a)(Object(B.a)({},h.popover),{},{children:[Object(f.jsxs)(o.a,{sx:{padding:"16px 26px",maxWidth:"200px"},children:[Object(f.jsx)(j.a,{noWrap:!0,variant:"h6",children:Object(f.jsx)("b",{children:c.name})}),Object(f.jsx)(j.a,{noWrap:!0,sx:{color:"text.secondary"},variant:"body2",children:c.email})]}),Object(f.jsx)(L.a,{}),Object(f.jsxs)(d.a,{sx:{width:"200px",p:1},children:[Object(f.jsxs)(u.b,{button:!0,onClick:function(){return l.push("/")},children:[Object(f.jsx)(x.a,{children:Object(f.jsx)(z.a,{})}),Object(f.jsx)(b.a,{primary:"Home"})]}),Object(f.jsxs)(u.b,{button:!0,onClick:function(){return l.push("/editProfile")},children:[Object(f.jsx)(x.a,{children:Object(f.jsx)(p.a,{})}),Object(f.jsx)(b.a,{primary:"Profile"})]}),Object(f.jsxs)(u.b,{button:!0,onClick:function(){return l.push("/settings")},children:[Object(f.jsx)(x.a,{children:Object(f.jsx)(Q.a,{})}),Object(f.jsx)(b.a,{primary:"Settings"})]})]}),Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center",paddingBottom:"16px"},children:Object(f.jsx)(G.a,{variant:"outlined",sx:{width:"80%",color:"text.primary"},onClick:function(){i(Object(H.c)(l)),l.push("/")},children:Object(f.jsx)("b",{children:"Logout"})})})]}))},J=n(27),Y={color:"rgb(33, 43, 54)"},V=function(e){var t=e.classes,n=e.handleDrawerToggle,r=Object(D.useState)(null),c=Object(a.a)(r,2),i=c[0],s=c[1],l=Object(D.useState)(null),j=Object(a.a)(l,2),d=j[0],u=j[1],b=Object(E.useLazyQuery)(J.g),x=Object(a.a)(b,2),h=x[0],O=x[1].data,m=function(){s(null),u(null)},p=function(e){s(e.currentTarget),u(e.currentTarget.id)},g="account-menu",v={open:d===g,handleMenuClose:m,anchorEl:i},y="notification-menu",k={open:d===y,handleMenuClose:m,anchorEl:i};Object(D.useEffect)((function(){h()}),[h]);var A=[],T=[];return O&&O.notificationList.forEach((function(e){e.isRead?A.push(e):T.push(e)})),Object(f.jsxs)("div",{children:[Object(f.jsx)(w.a,{position:"fixed",className:t.appBar,children:Object(f.jsxs)(R.a,{children:[Object(f.jsx)(q.a,{"aria-label":"open drawer",edge:"start",onClick:n,className:t.menuButton,sx:Y,children:Object(f.jsx)(S.a,{})}),Object(f.jsx)(o.a,{sx:{flexGrow:1}}),Object(f.jsxs)(o.a,{sx:{display:"flex"},children:[Object(f.jsx)(q.a,{id:y,"aria-label":"show 17 new notifications","aria-controls":y,"aria-haspopup":"true",color:"inherit",onClick:p,sx:Y,children:Object(f.jsx)(C.a,{badgeContent:T.length,color:"secondary",children:Object(f.jsx)(N.a,{})})}),Object(f.jsx)(q.a,{id:g,edge:"end","aria-label":"account of current user","aria-controls":g,"aria-haspopup":"true",onClick:p,color:"inherit",sx:Y,children:Object(f.jsx)(W.a,{})})]})]})}),Object(f.jsx)($,{handle:k,data:{unread:T,read:A}}),Object(f.jsx)(_,{handle:v})]})},K=n(382),Z=n(383),X=n(399),ee=n(212),te=n.n(ee),ne=n(159),ae=n.n(ne),re=n(210),ce=n.n(re),ie=n(296),se=n(391),oe=n(397),le=n(393),je=n(394),de=n(392),ue=n(380),be=n(20),xe={name:"",maxTasks:"",ipAddress:""};function he(e){var t=Object(g.b)(),n=e.open,c=e.handleClose,i=Object(D.useState)(xe),s=Object(a.a)(i,2),o=s[0],l=s[1],j=Object(E.useMutation)(M.f),d=Object(a.a)(j,1)[0],u=function(e){"maxTasks"===e.target.id&&isNaN(e.target.value)&&(console.log("not a number"),e.target.value=o.maxTasks),l(Object(B.a)(Object(B.a)({},o),{},Object(r.a)({},e.target.id,e.target.value)))};return Object(f.jsx)(se.a,{open:n,onClose:c,"aria-labelledby":"form-dialog-title",children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(Object(be.c)()),d({variables:{input:o}}).then((function(){t(Object(be.a)({message:"Successfully Registered Worker",severity:"success"})),t(Object(be.c)())})).catch((function(e){Object(be.a)({message:e.toString(),severity:"error"}),t(Object(be.c)())})),l(xe),c()},children:[Object(f.jsx)(de.a,{id:"form-dialog-title",children:"Register New Task Worker"}),Object(f.jsxs)(le.a,{children:[Object(f.jsx)(je.a,{children:"Fill in the information below to register the worker."}),Object(f.jsxs)(ue.a,{container:!0,spacing:1,sx:{pl:1,pr:1},children:[Object(f.jsx)(ue.a,{item:!0,xs:12,sm:10,children:Object(f.jsx)(ie.a,{autoFocus:!0,margin:"dense",id:"name",label:"Task Worker Name",required:!0,value:o.name,fullWidth:!0,variant:"standard",onChange:u,helperText:"Nickname for the worker"})}),Object(f.jsx)(ue.a,{item:!0,xs:12,sm:4,children:Object(f.jsx)(ie.a,{margin:"dense",id:"maxTasks",required:!0,label:"Max. Concurrent Jobs",fullWidth:!0,value:o.maxTasks,variant:"standard",onChange:u})}),Object(f.jsx)(ue.a,{item:!0,xs:12,sm:5,children:Object(f.jsx)(ie.a,{margin:"dense",required:!0,id:"ipAddress",label:"IP Address",fullWidth:!0,value:o.ipAddress,variant:"standard",onChange:u})})]})]}),Object(f.jsxs)(oe.a,{children:[Object(f.jsx)(G.a,{onClick:c,children:"Cancel"}),Object(f.jsx)(G.a,{type:"submit",children:"Submit"})]})]})})}var Oe={image:"",tag:"",description:""};function me(e){var t=Object(g.b)(),n=e.open,c=e.handleClose,i=Object(D.useState)(Oe),s=Object(a.a)(i,2),o=s[0],l=s[1],j=Object(E.useMutation)(M.b),d=Object(a.a)(j,1)[0],u=function(e){l(Object(B.a)(Object(B.a)({},o),{},Object(r.a)({},e.target.id,e.target.value)))};return Object(f.jsx)(se.a,{open:n,onClose:c,"aria-labelledby":"form-dialog-title",children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(Object(be.c)()),d({variables:{input:o}}).then((function(){t(Object(be.a)({message:"Successfully Created Image",severity:"success"})),t(Object(be.c)())})).catch((function(e){Object(be.a)({message:e.toString(),severity:"error"}),t(Object(be.c)())})),l(Oe),c()},children:[Object(f.jsx)(de.a,{id:"form-dialog-title",children:"Add New Docker Image"}),Object(f.jsxs)(le.a,{children:[Object(f.jsx)(je.a,{children:"Fill in the information below to add a new docker image."}),Object(f.jsxs)(ue.a,{container:!0,spacing:2,sx:{pl:1,pr:1},children:[Object(f.jsx)(ue.a,{item:!0,xs:12,sm:7,children:Object(f.jsx)(ie.a,{autoFocus:!0,margin:"dense",id:"image",label:"Docker Image Name",required:!0,value:o.image,fullWidth:!0,variant:"standard",onChange:u})}),Object(f.jsx)(ue.a,{item:!0,xs:12,sm:4,children:Object(f.jsx)(ie.a,{margin:"dense",id:"tag",required:!0,label:"Tag Label",fullWidth:!0,value:o.tag,variant:"standard",onChange:u})}),Object(f.jsx)(ue.a,{item:!0,xs:12,sm:11,children:Object(f.jsx)(ie.a,{margin:"dense",required:!0,id:"description",label:"Description",fullWidth:!0,variant:"standard",multiline:!0,maxRows:4,value:o.description,onChange:u})})]})]}),Object(f.jsxs)(oe.a,{children:[Object(f.jsx)(G.a,{onClick:c,children:"Cancel"}),Object(f.jsx)(G.a,{type:"submit",children:"Submit"})]})]})})}var pe=n(211),ge=n.n(pe),fe={image:"",tag:"",remark:""};function ve(e){var t=Object(g.b)(),n=e.open,c=e.handleClose,i=Object(D.useState)(fe),s=Object(a.a)(i,2),o=s[0],l=s[1],j=Object(E.useMutation)(M.a),d=Object(a.a)(j,1)[0],u=function(e){l(Object(B.a)(Object(B.a)({},o),{},Object(r.a)({},e.target.id,e.target.value)))};return Object(f.jsx)(se.a,{open:n,onClose:c,"aria-labelledby":"form-dialog-title",children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(Object(be.c)()),d({variables:{input:o}}).then((function(){t(Object(be.a)({message:"Successfully Created Image",severity:"success"})),t(Object(be.c)())})).catch((function(e){Object(be.a)({message:e.toString(),severity:"error"}),t(Object(be.c)())})),l(fe),c()},children:[Object(f.jsx)(de.a,{id:"form-dialog-title",children:"Request for new Docker Image"}),Object(f.jsxs)(le.a,{children:[Object(f.jsx)(je.a,{children:"Fill in the information to request for a new docker image."}),Object(f.jsxs)(ue.a,{container:!0,spacing:2,sx:{pl:1,pr:1},children:[Object(f.jsx)(ue.a,{item:!0,xs:12,sm:7,children:Object(f.jsx)(ie.a,{autoFocus:!0,margin:"dense",id:"image",label:"Docker Image Name",required:!0,value:o.image,fullWidth:!0,variant:"standard",onChange:u})}),Object(f.jsx)(ue.a,{item:!0,xs:12,sm:4,children:Object(f.jsx)(ie.a,{margin:"dense",id:"tag",required:!0,label:"Tag Label",fullWidth:!0,value:o.tag,variant:"standard",onChange:u})}),Object(f.jsx)(ue.a,{item:!0,xs:12,sm:11,children:Object(f.jsx)(ie.a,{margin:"dense",id:"remark",label:"Remark",fullWidth:!0,variant:"standard",multiline:!0,maxRows:4,value:o.remark,onChange:u})})]})]}),Object(f.jsxs)(oe.a,{children:[Object(f.jsx)(G.a,{onClick:c,children:"Cancel"}),Object(f.jsx)(G.a,{type:"submit",children:"Submit"})]})]})})}function ye(){var e=Object(D.useState)(null),t=Object(a.a)(e,2),n=t[0],r=t[1],c=Object(g.c)((function(e){return e.auth.user.role})),i=Object(s.g)(),l=function(){r(null)},j=[{icon:Object(f.jsx)(ce.a,{}),name:"Add Task Worker",onClick:function(){return r(0)}},{icon:Object(f.jsx)(ae.a,{}),name:"Add Docker Image",onClick:function(){return r(1)}}],d=[{icon:Object(f.jsx)(ae.a,{}),name:"Request for New Image",onClick:function(){return r(2)}},{icon:Object(f.jsx)(ge.a,{}),name:"Add Request",onClick:function(){return i.push("/addRequest")}}];return Object(f.jsxs)("div",{children:[Object(f.jsx)(o.a,{sx:{height:200,transform:"translateZ(0px)",flexGrow:1,position:"fixed",bottom:20,right:20},children:Object(f.jsx)(K.a,{ariaLabel:"SpeedDial basic example",icon:Object(f.jsx)(Z.a,{openIcon:Object(f.jsx)(te.a,{})}),children:"USER"===c?d.map((function(e,t){return Object(f.jsx)(X.a,{icon:e.icon,tooltipTitle:e.name,onClick:e.onClick},e.name)})):j.map((function(e,t){return Object(f.jsx)(X.a,{icon:e.icon,tooltipTitle:e.name,onClick:e.onClick},e.name)}))})}),Object(f.jsx)(he,{open:0===n,handleClose:l}),Object(f.jsx)(me,{open:1===n,handleClose:l}),Object(f.jsx)(ve,{open:2===n,handleClose:l})]})}var ke=280,we=Object(c.a)((function(e){return{root:{display:"flex"},drawer:Object(r.a)({},e.breakpoints.up("md"),{width:ke,flexShrink:0}),appBar:Object(r.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(ke,"px)"),marginLeft:ke}),menuButton:Object(r.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{boxSizing:"border-box",width:ke},content:Object(r.a)({flexGrow:1,maxWidth:"100%"},e.breakpoints.up("md"),{maxWidth:"calc(100% - ".concat(ke,"px)"),padding:e.spacing(3)})}}));t.a=function(e){var t=e.children,n=we(),r=Object(D.useState)(!1),c=Object(a.a)(r,2),i=c[0],s=c[1],o=function(){s(!i)};return Object(f.jsxs)("div",{className:n.root,children:[Object(f.jsx)(V,{classes:n,handleDrawerToggle:o}),Object(f.jsx)("nav",{className:n.drawer,"aria-label":"mailbox folders",children:Object(f.jsx)(k,{mobileOpen:i,handleDrawerToggle:o,classes:n})}),Object(f.jsxs)("main",{className:n.content,children:[Object(f.jsx)("div",{className:n.toolbar}),Object(f.jsx)("div",{style:{padding:"0 15px "},children:t})]}),Object(f.jsx)(ye,{})]})}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return be})),n.d(t,"c",(function(){return me})),n.d(t,"b",(function(){return pe}));var a=n(366),r=n(367),c=n(368),i=n(14),s=n(139),o=n(1),l=n(35),j=n(0),d=function(){var e=Object(o.useState)(6),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){var e=setInterval((function(){return a((function(e){return e-1}))}),1e3);return function(){clearInterval(e)}}),[]),n<1?Object(j.jsx)(l.a,{to:"/dashboard"}):Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",minHeight:"720px"},children:[Object(j.jsxs)(s.a,{variant:"h5",align:"center",color:"textSecondary",children:["This site is under maintanance. ",Object(j.jsx)("br",{}),"You will be redirected in ",n," seconds."]}),Object(j.jsx)("img",{src:"images/maintenance.png",alt:"maintenance",style:{maxWidth:"80%",width:"500px",paddingTop:"60px"}})]})},u=n(380),b=n(21),x=n(17),h=n(290),O=n(384),m=n(225),p=n(33),g=n(27),f=n(36),v=function(e){var t=e.title,n=e.offset;return console.log(n),Object(j.jsxs)("div",{children:[Object(j.jsx)(s.a,{variant:"h6",gutterBottom:!0,children:t}),Object(j.jsxs)(h.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(j.jsx)("div",{style:{padding:"5px"},children:n}),Object(j.jsx)("div",{style:{flexBasis:"40%",paddingLeft:"5px"},children:Object(j.jsx)("img",{src:"/images/empty_inbox.svg",alt:"Empty Requests",width:"100%"})})]})]})},y=function(e){var t=e.data;if(!t)return null;if(t.imageRequests.length>0)return Object(j.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(j.jsx)("div",{style:{flexBasis:"40%",paddingTop:"8px",flexShrink:2},children:Object(j.jsx)("img",{src:"images/image_request.svg",alt:"RequestCount",width:"100%"})}),Object(j.jsx)("div",{style:{flexGrow:2,paddingLeft:"12px"},children:Object(j.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(j.jsx)(s.a,{variant:"h6",gutterBottom:!0,children:"Image Requests"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)(h.a,{sx:{p:1},children:[Object(j.jsx)(s.a,{component:"span",children:"count: "}),Object(j.jsx)(s.a,{variant:"h3",gutterBottom:!0,component:"span",children:Object(j.jsx)("b",{children:t.imageRequests.length})}),Object(j.jsx)("br",{})]}),Object(j.jsx)(O.a,{}),Object(j.jsx)(h.a,{sx:{pt:1},children:Object(j.jsx)(m.a,{component:p.b,to:"/imageRequests",sx:{float:"right"},children:"View All"})})]})]})})]});var n=Object(j.jsxs)("div",{style:{padding:"5px"},children:[Object(j.jsx)(s.a,{children:"All Checked \u2714\ufe0f\u2714\ufe0f"}),Object(j.jsx)(s.a,{children:"No new image requests \ud83d\ude42\ud83d\ude42"})]});return Object(j.jsx)(v,{title:"Docker Image Requests",offset:n})},k=function(){var e=Object(x.useQuery)(g.d),t=e.loading,n=e.error,a=e.data;return Object(j.jsxs)(f.a,{children:[t?Object(j.jsx)("div",{children:"Loading..."}):null,n?"Error! ".concat(n.message):null,Object(j.jsx)(y,{data:a})]})},w=n(385),C=n(161),q=n(386),A=n(377),S=n(387),R=function(e){var t=e.images.slice().sort((function(e,t){return t.usageCount-e.usageCount})).slice(0,3);return Object(j.jsx)(w.a,{dense:!0,children:t.map((function(e,n){return Object(j.jsxs)(C.b,{disableGutters:!0,children:[Object(j.jsx)(q.a,{children:Object(j.jsx)(A.a,{variant:"rounded",src:"images/top".concat(n+1,".svg"),alt:"Top".concat(n+1)})}),Object(j.jsx)(S.a,{primary:Object(j.jsx)("b",{children:t[n].name}),secondary:"\u2764\ufe0f ".concat(t[n].usageCount)})]},n)}))})};function T(){var e=Object(x.useQuery)(g.c),t=e.loading,n=e.error,a=e.data;return Object(j.jsxs)(f.a,{children:[Object(j.jsx)(s.a,{variant:"h5",gutterBottom:!0,children:"Top Images"}),Object(j.jsxs)(h.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t?Object(j.jsx)("div",{children:"Loading..."}):null,n?"Error! ".concat(n.message):null,a?Object(j.jsx)(R,{images:a.dockerImages}):null,Object(j.jsx)("div",{style:{flexBasis:"40%",paddingLeft:"5px"},children:Object(j.jsx)("img",{src:"images/top_images.svg",alt:"RequestCount",width:"100%"})})]})]})}function W(){return Object(j.jsx)(f.a,{children:Object(j.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[Object(j.jsx)(s.a,{variant:"h6",gutterBottom:!0,children:"Total Issues"}),Object(j.jsx)(s.a,{variant:"h3",gutterBottom:!0,children:Object(j.jsx)("b",{children:"12"})})]}),Object(j.jsx)("div",{style:{flexBasis:"40%",paddingTop:"8px"},children:Object(j.jsx)("img",{src:"images/total_issues.svg",alt:"IssueCount",width:"100%"})})]})})}function I(){var e=Object(x.useQuery)(g.a),t=e.loading,n=e.error,a=e.data;return Object(j.jsx)(f.a,{children:Object(j.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[Object(j.jsx)(s.a,{variant:"h6",gutterBottom:!0,children:"Total Requests"}),t?Object(j.jsx)("div",{children:"Loading..."}):null,n?"Error! ".concat(n.message):null,a?Object(j.jsx)(s.a,{variant:"h3",gutterBottom:!0,children:Object(j.jsx)("b",{children:a.allRequests.length})}):null]}),Object(j.jsx)("div",{style:{flexBasis:"40%",paddingTop:"8px"},children:Object(j.jsx)("img",{src:"images/total_requests.svg",alt:"RequestCount",width:"100%"})})]})})}function N(){var e=Object(x.useQuery)(g.b),t=e.loading,n=e.error,a=e.data;return Object(j.jsx)(f.a,{children:Object(j.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[Object(j.jsx)(s.a,{variant:"h6",gutterBottom:!0,children:"Total Users"}),t?Object(j.jsx)("div",{children:"Loading..."}):null,n?"Error! ".concat(n.message):null,a?Object(j.jsx)(s.a,{variant:"h3",gutterBottom:!0,children:Object(j.jsx)("b",{children:a.allUsers.length})}):null]}),Object(j.jsx)("div",{style:{flexBasis:"40%",paddingTop:"8px"},children:Object(j.jsx)("img",{src:"images/total_users.svg",alt:"UserCount",width:"100%"})})]})})}var D=n(3),B=n(291),E=n(224),P=Object(B.a)((function(e){return{root:Object(D.a)({padding:e.spacing(4),display:"flex",justifyContent:"space-between"},e.breakpoints.down("md"),{display:"block"}),image:Object(D.a)({minWidth:"256px",margin:"0px 32px"},e.breakpoints.down("sm"),{display:"none"})}}));function L(){var e=Object(b.c)((function(e){return e.auth.user})),t=P();return Object(j.jsxs)(E.a,{className:t.root,sx:{bgcolor:"rgb(200, 250, 205)"},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(s.a,{gutterBottom:!0,children:"Hello \ud83d\udc4b,"}),Object(j.jsxs)(s.a,{variant:"h5",gutterBottom:!0,children:[e.name,"!"]}),Object(j.jsx)(s.a,{variant:"body2",children:"Welcome back to GPU Yard. Keep hustling and have a nice day \ud83d\ude42\ud83d\ude0a"})]}),Object(j.jsx)("div",{className:t.image,children:Object(j.jsx)("img",{src:"images/illustration_seo.svg",alt:"welcome",width:"100%"})})]})}var F=function(e){var t=e.data;if(!t)return null;if(t.workerApplications.length>0)return Object(j.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(j.jsx)("div",{style:{flexBasis:"40%",paddingTop:"8px",flexShrink:2},children:Object(j.jsx)("img",{src:"images/worker_application.svg",alt:"RequestCount",width:"100%"})}),Object(j.jsx)("div",{style:{flexGrow:2,paddingLeft:"12px"},children:Object(j.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(j.jsx)(s.a,{variant:"h6",gutterBottom:!0,children:"New Worker Applications"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)(h.a,{sx:{p:1},children:[Object(j.jsx)(s.a,{component:"span",children:"count: "}),Object(j.jsx)(s.a,{variant:"h3",gutterBottom:!0,component:"span",children:Object(j.jsx)("b",{children:t.workerApplications.length})}),Object(j.jsx)("br",{})]}),Object(j.jsx)(O.a,{}),Object(j.jsx)(h.a,{sx:{pt:1},children:Object(j.jsx)(m.a,{component:p.b,to:"/workerApplications",sx:{float:"right"},children:"View All"})})]})]})})]});var n=Object(j.jsxs)("div",{style:{padding:"5px"},children:[Object(j.jsx)(s.a,{children:"All Checked \u2714\ufe0f\u2714\ufe0f"}),Object(j.jsx)(s.a,{children:"No new applications \ud83d\ude42\ud83d\ude42"})]});return Object(j.jsx)(v,{title:"New Worker Applications",offset:n})},U=function(){var e=Object(x.useQuery)(g.h),t=e.loading,n=e.error,a=e.data;return Object(j.jsxs)(f.a,{children:[t?Object(j.jsx)("div",{children:"Loading..."}):null,n?"Error! ".concat(n.message):null,Object(j.jsx)(F,{data:a})]})},M=n(114),$={list:{width:"100%",maxHeight:"200px",overflow:"auto",ml:-1,mr:1,"& div":{display:"flex",justifyContent:"space-between"}}};function G(){var e=Object(x.useQuery)(g.e),t=e.loading,n=e.error,a=e.data;return Object(j.jsxs)(f.a,{children:[Object(j.jsx)(s.a,{variant:"h5",gutterBottom:!0,children:"Workers Status"}),t?Object(j.jsx)("div",{children:"Loading..."}):null,a?Object(j.jsx)(z,{workers:a.workerList}):null,n?"Error! ".concat(n.message):null]})}var z=function(e){var t=e.workers,n=Object(l.g)();return Object(j.jsx)(w.a,{sx:$.list,children:t.map((function(e){return Object(j.jsxs)(C.b,{button:!0,onClick:function(){n.push("/workers/"+e.id)},children:[Object(j.jsx)(s.a,{children:e.name}),Object(j.jsx)(M.a,{label:e.status?e.status:"Checking",color:"Active"===e.status?"success":"default",style:{minWidth:"80px",display:"flex",alignItems:"center",justifyContent:"center"}})]},e.id)}))})},Q=n(37),H=n(400),_=n(69),J=n(89);var Y=function(){var e=Object(x.useQuery)(g.f),t=e.loading,n=e.error,a=e.data,r=Object(l.g)();if(t)return Object(j.jsx)(H.a,{});if(n)return Object(j.jsxs)("div",{children:["`Error! $",n.message,"`"]});var c=function(e,t){var n=[];return e.forEach((function(e){var a=e.id,r=e.name,c=e.status,i=e.createdAt,s=e.image,o=e.assignedTo,l=J.a[c]?J.a[c]:J.a.DEFAULT;n.push({name:r,statusChip:l,createdAt:i,image:s,assignedTo:o,action:function(){t.push("/requests/".concat(a))}})})),n}(a.myRequests,r);return Object(j.jsx)(_.a,{rows:c,columns:[{id:"name",label:"Name",minWidth:170},{id:"statusChip",label:"Status"},{id:"image",label:"Docker Image"},{id:"createdAt",label:"Created At"}]})},V=function(){var e=Object(b.c)((function(e){return e.auth.user.role}));return Object(j.jsx)(Q.a,{children:Object(j.jsx)("div",{style:{marginBottom:"32px",marginTop:"16px"},children:Object(j.jsxs)(u.a,{container:!0,spacing:3,children:[Object(j.jsx)(u.a,{item:!0,xs:12,lg:8,children:Object(j.jsx)(L,{})}),Object(j.jsx)(u.a,{item:!0,xs:12,lg:4,children:Object(j.jsx)(G,{})}),"ADMIN"===e?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(j.jsx)(U,{})}),Object(j.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(j.jsx)(k,{})}),Object(j.jsx)(u.a,{item:!0,xs:12,lg:4,children:Object(j.jsx)(N,{})}),Object(j.jsx)(u.a,{item:!0,xs:12,lg:4,children:Object(j.jsx)(I,{})}),Object(j.jsx)(u.a,{item:!0,xs:12,lg:4,children:Object(j.jsx)(W,{})})]}):null,"USER"===e?Object(j.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(j.jsx)(Y,{})}):null,Object(j.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(j.jsx)(T,{})})]})})})},K=n(304),Z=n(297),X={root:{p:8,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},ee=function(){return Object(j.jsxs)(E.a,{elevation:3,sx:X.root,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file"}),Object(j.jsx)("label",{htmlFor:"raised-button-file",children:Object(j.jsx)(Z.a,{component:"span",children:Object(j.jsx)(A.a,{sx:{width:128,height:128}})})})]}),Object(j.jsx)("div",{style:{maxWidth:"256px",textAlign:"center",paddingTop:"15px"},children:"Click on the avatar to upload new profile pic"})]})},te=n(296),ne={root:{p:4,display:"flex",alignItems:"center",flexDirection:"column"},submit:{mt:3,float:"right"}},ae=function(){var e=Object(b.c)((function(e){return e.auth.user}));return Object(j.jsx)(E.a,{elevation:3,sx:ne.root,children:Object(j.jsxs)("form",{style:{width:"100%",mt:2},onSubmit:function(e){e.preventDefault(),alert("Function not yet implemented")},children:[Object(j.jsxs)(u.a,{container:!0,spacing:4,children:[Object(j.jsx)(u.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(te.a,{disabled:!0,name:"fullName",variant:"outlined",fullWidth:!0,id:"fullname",label:"Full Name",autoFocus:!0,value:e.name})}),Object(j.jsx)(u.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(te.a,{name:"phone",variant:"outlined",fullWidth:!0,id:"phone",label:"Phone Number",value:e.phone,autoFocus:!0})}),Object(j.jsx)(u.a,{item:!0,xs:12,children:Object(j.jsx)(te.a,{disabled:!0,variant:"outlined",fullWidth:!0,id:"email",label:"Email Address",name:"email",value:e.email})})]}),Object(j.jsx)(m.a,{type:"submit",variant:"contained",color:"success",size:"large",sx:ne.submit,children:"Save Changes"})]})})},re=function(){return Object(j.jsx)(Q.a,{children:Object(j.jsxs)(K.a,{sx:{mb:6},children:[Object(j.jsx)(s.a,{variant:"h4",component:"h1",sx:{mb:4},children:Object(j.jsx)("b",{children:"Edit Profile"})}),Object(j.jsxs)(u.a,{container:!0,spacing:6,children:[Object(j.jsx)(u.a,{item:!0,xs:12,lg:4,children:Object(j.jsx)(ee,{})}),Object(j.jsx)(u.a,{item:!0,xs:12,lg:8,children:Object(j.jsx)(ae,{})})]})]})})},ce=function(e){var t=e.workers,n=e.id,a=t.find((function(e){return e.id===n}));if(null==a)return Object(j.jsx)("div",{children:"Worker not found!!"});var r=a.name,c=a.maxTasks,i=a.ipAddress,o=a.status,l=a.runningTasks;return Object(j.jsxs)("div",{children:[Object(j.jsx)(s.a,{variant:"h4",component:"h1",sx:{mb:4,pl:2},children:Object(j.jsx)("b",{children:"Task Worker Detail"})}),Object(j.jsxs)(f.a,{children:[Object(j.jsx)(s.a,{variant:"h6",children:"Task Worker ID:"}),Object(j.jsx)(s.a,{variant:"body1",children:n}),Object(j.jsx)(ie,{}),Object(j.jsx)(s.a,{variant:"h6",children:"Name:"}),Object(j.jsx)(s.a,{variant:"body1",children:r}),Object(j.jsx)(ie,{}),Object(j.jsx)(s.a,{variant:"h6",children:"Status:"}),Object(j.jsx)(M.a,{label:o||"Checking",color:"Active"===o?"success":"default"}),Object(j.jsx)(ie,{}),Object(j.jsx)(s.a,{variant:"h6",children:"Running Task:"}),Object(j.jsx)(s.a,{variant:"body1",children:l.length}),Object(j.jsx)(ie,{}),Object(j.jsx)(s.a,{variant:"h6",children:"Max Concurrent Tasks:"}),Object(j.jsx)(s.a,{variant:"body1",children:c}),i?Object(j.jsxs)("div",{children:[Object(j.jsx)(ie,{}),Object(j.jsx)(s.a,{variant:"h6",children:"IP Address:"}),Object(j.jsx)(s.a,{variant:"body1",children:i})]}):null]})]})},ie=function(){return Object(j.jsx)(O.a,{sx:{mt:3,mb:2}})},se=function(e){var t=e.match.params.id,n=Object(x.useQuery)(g.e),a=n.loading,r=n.error,c=n.data;return Object(j.jsx)(Q.a,{children:Object(j.jsxs)(K.a,{sx:{mb:6},children:[a?Object(j.jsx)("div",{children:"Loading..."}):null,r?"Error! ".concat(r.message):null,c?Object(j.jsx)(ce,{workers:c.workerList,id:t}):null]})})};var oe=function(e){var t=e.history,n=Object(x.useQuery)(g.b),a=n.loading,r=n.data,c=n.error;if(a)return Object(j.jsx)(H.a,{});if(c)return Object(j.jsxs)("div",{children:["`Error! $",c.message,"`"]});var i=function(e,t){var n=[];return e.forEach((function(e){var a=e.id,r=e.name,c=e.role,i=e.status,s=e.email,o=e.phone,l=Object(j.jsx)(M.a,{label:i,color:"Active"===i?"success":"default"});n.push({id:a,name:r,role:c,statusChip:l,email:s,phone:o,action:function(){t.push("/users/".concat(a))}})})),n}(r.allUsers,t);return Object(j.jsx)(_.a,{rows:i,columns:[{id:"id",label:"User ID"},{id:"name",label:"Name",minWidth:170},{id:"role",label:"Role",minWidth:100},{id:"statusChip",label:"Status",minWidth:100,align:"center"},{id:"email",label:"Email"},{id:"phone",label:"Phone"}]})},le=function(){var e=Object(l.g)();return Object(j.jsx)(Q.a,{children:Object(j.jsxs)(K.a,{children:[Object(j.jsx)(s.a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{pb:2,pl:2},children:Object(j.jsx)("b",{children:"Users"})}),Object(j.jsx)(oe,{history:e})]})})},je=n(34);var de=function(e){var t=e.history,n=Object(x.useQuery)(g.e),a=n.loading,r=n.data,c=n.error,i=Object(b.c)((function(e){return e.auth.user.role}));if(a)return Object(j.jsx)(H.a,{});if(c)return Object(j.jsxs)("div",{children:["`Error! $",c.message,"`"]});var s=[{id:"id",label:"Worker ID"},{id:"name",label:"Name"},{id:"statusChip",label:"Status",minWidth:86,align:"center"},{id:"runMax",label:"Slots",minWidth:100,align:"center"}].concat(Object(je.a)("ADMIN"===i?[{id:"ipAddress",label:"IP Address"}]:[])),o=function(e,t){var n=[];return e.forEach((function(e){var a=e.id,r=e.name,c=e.status,i=e.runningTasks,s=e.maxTasks,o=e.ipAddress,l=i.length+"/"+s,d=Object(j.jsx)(M.a,{label:c,color:"Active"===c?"success":"default"});n.push({id:a,name:r,statusChip:d,runMax:l,ipAddress:o,action:function(){t.push("/workers/".concat(a))}})})),n}(r.workerList,t);return Object(j.jsx)(_.a,{rows:o,columns:s})},ue=function(){var e=Object(l.g)();return Object(j.jsx)(Q.a,{children:Object(j.jsxs)(K.a,{children:[Object(j.jsx)(s.a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{pb:2,pl:2},children:Object(j.jsx)("b",{children:"Workers"})}),Object(j.jsx)(de,{history:e})]})})},be="http://3.219.108.65:2358/",xe={icon:Object(j.jsx)(a.a,{}),text:"Dashboard",path:"/dashboard",page:V},he={icon:Object(j.jsx)(r.a,{}),text:"Users",path:"/users",page:le},Oe={icon:Object(j.jsx)(c.a,{}),text:"Workers",path:"/workers",page:ue},me={ADMIN:[xe,he,Oe],USER:[xe,Oe]},pe=[{path:"/editProfile",page:re},{path:"/workers/:id",page:se},{path:"/settings",page:d}]},50:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return m})),n.d(t,"g",(function(){return p}));var a,r,c,i,s,o,l,j=n(24),d=n(17),u=Object(d.gql)(a||(a=Object(j.a)(["\n  mutation CreateRequest($input: CreateRequestInput!) {\n    createRequest(input: $input) {\n      id\n      createdAt\n      title\n      name\n    }\n  }\n"]))),b=Object(d.gql)(r||(r=Object(j.a)(["\n  mutation RegisterWorker($input: RegisterWorkerInput!) {\n    registerWorker(input: $input) {\n      id\n    }\n  }\n"]))),x=Object(d.gql)(c||(c=Object(j.a)(["\n  mutation ApproveWorker($input: String!) {\n    approveWorker(input: $input) {\n      id\n    }\n  }\n"]))),h=Object(d.gql)(i||(i=Object(j.a)(["\n  mutation ApproveImage($input: String!) {\n    approveImage(input: $input) {\n      id\n    }\n  }\n"]))),O=Object(d.gql)(s||(s=Object(j.a)(["\n  mutation AddNewImage($input: AddNewImageInput!) {\n    addNewImage(input: $input) {\n      id\n      image\n      tag\n      description\n    }\n  }\n"]))),m=Object(d.gql)(o||(o=Object(j.a)(["\n  mutation AddImageRequest($input: AddImageRequestInput!) {\n    addImageRequest(input: $input) {\n      id\n      image\n      tag\n      remark\n      createdAt\n    }\n  }\n"]))),p=Object(d.gql)(l||(l=Object(j.a)(["\n  mutation SetReadNotification($input: String!) {\n    setReadNotification(input: $input) {\n      id\n      isRead\n    }\n  }\n"])))},69:function(e,t,n){"use strict";var a=n(14),r=n(1),c=n(291),i=n(301),s=n(303),o=n(227),l=n(300),j=n(302),d=n(295),u=n(226),b=n(298),x=n(139),h=n(224),O=n(297),m=n(293),p=n(213),g=n.n(p),f=n(0),v=Object(c.a)((function(e){return{root:{width:"100%",overflow:"hidden",marginBottom:e.spacing(2),padding:e.spacing(3)},toolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},container:{maxHeight:450},title:{flex:"1 1 100%"},table:{}}}));t.a=function(e){var t=e.title,n=e.columns,c=e.rows,p=Object(r.useState)(0),y=Object(a.a)(p,2),k=y[0],w=y[1],C=Object(r.useState)(5),q=Object(a.a)(C,2),A=q[0],S=q[1],R=v();return Object(f.jsxs)(h.a,{elevation:3,className:R.root,children:[Object(f.jsxs)(b.a,{className:R.toolbar,children:[Object(f.jsx)(x.a,{className:R.title,variant:"h6",id:"tableTitle",component:"div",children:t}),Object(f.jsx)(m.a,{title:"Filter list",children:Object(f.jsx)(O.a,{children:Object(f.jsx)(g.a,{})})})]}),Object(f.jsx)(l.a,{className:R.container,children:Object(f.jsxs)(i.a,{className:R.table,stickyHeader:!0,"aria-labelledby":"tableTitle",children:[Object(f.jsx)(j.a,{children:Object(f.jsx)(u.a,{children:n.map((function(e){return Object(f.jsx)(o.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(f.jsx)(s.a,{children:c.slice(k*A,k*A+A).map((function(e,t){return Object(f.jsx)(u.a,{hover:!0,role:"checkbox",tabIndex:-1,onClick:e.action?e.action:null,children:n.map((function(t){var n=e[t.id];return Object(f.jsx)(o.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):n},t.id)}))},t)}))})]})}),Object(f.jsx)(d.a,{rowsPerPageOptions:[5,10,25],component:"div",count:c.length,rowsPerPage:A,page:k,onPageChange:function(e,t){w(t)},onRowsPerPageChange:function(e){S(parseInt(e.target.value,10)),w(0)}})]})}},86:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return f}));var a=n(79),r=n(20),c=n(93),i=n.n(c),s=n(206),o=n(48),l={user:null,jwt:null};if(localStorage.auth){var j=localStorage.getItem("auth");if(j){var d=JSON.parse(j),u=d.profile,b=d.jwt;(new Date).getTime()/1e3<Object(s.a)(b).exp&&(l={user:u,jwt:b})}}var x=Object(a.c)({name:"auth",initialState:l,reducers:{clearAuth:function(e){e.user=null,e.jwt=null},setAuth:function(e,t){var n=t.payload,a=n.profile,r=n.jwt;e.user=a,e.jwt=r}}}),h=x.actions,O=h.setAuth,m=h.clearAuth;t.a=x.reducer;var p=function(e){var t=e.credentials,n=e.history;return function(e){e(Object(r.c)()),console.log("User logging in"),i.a.post(o.a+"authenticate",t).then((function(t){localStorage.setItem("auth",JSON.stringify(t.data)),e(O(t.data)),e(Object(r.a)({message:"Successfully logged in",severity:"success"})),n.push("/dashboard"),e(Object(r.c)())})).catch((function(t){e(Object(r.a)({message:t.toString(),severity:"error"})),e(Object(r.c)())}))}},g=function(e){var t=e.input,n=e.history;return function(e){e(Object(r.c)()),console.log("Registering User"),i.a.post(o.a+"signup",t).then((function(t){e(Object(r.a)({message:"Successfully Signed Up",severity:"success"})),n.push("/login"),e(Object(r.c)())})).catch((function(t){e(Object(r.a)({message:t.toString(),severity:"error"})),e(Object(r.c)())}))}},f=function(e){return function(e){e(Object(r.c)()),localStorage.clear(),e(m()),e(Object(r.c)())}}},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(114),r=(n(1),n(0)),c={NEW:Object(r.jsx)(a.a,{label:"Pending"}),COMPLETED:Object(r.jsx)(a.a,{label:"Completed",color:"success"}),PROCESSING:Object(r.jsx)(a.a,{label:"Processing",color:"info"}),ERROR:Object(r.jsx)(a.a,{label:"Error",color:"error"}),DEFAULT:Object(r.jsx)(a.a,{label:"Unknown",color:"warning"})}}},[[284,1,2]]]);
//# sourceMappingURL=main.d79c4e58.chunk.js.map